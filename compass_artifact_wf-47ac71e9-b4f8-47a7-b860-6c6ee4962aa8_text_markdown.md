# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç—á—ë—Ç–æ–≤ –†–°–ë–£ –∏ –ú–°–§–û –Ω–∞ Python

**–ì–æ—Ç–æ–≤–æ–≥–æ Python-—Ä–µ—à–µ–Ω–∏—è ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω. –ì–ª–∞–≤–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ä–∞—Å–∫—Ä—ã—Ç–∏–π ‚Äî **e-disclosure.ru** (–ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å-–¶–†–ö–ò) ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–ª–∞—Ç–Ω—ã–π REST API –æ—Ç 6 000 ‚ÇΩ/–º–µ—Å, –∞ –ø—Ä–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Å–∫—Ä–∞–ø–∏–Ω–≥–µ –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∞–Ω—Ç–∏–±–æ—Ç-–∑–∞—â–∏—Ç—É —Å TLS-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–∏–Ω–≥–æ–º. –î–ª—è **–†–°–ë–£** –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –§–ù–° –Ω–∞ **bo.nalog.ru**, –∞ –¥–ª—è **–ú–°–§–û** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ PDF –æ—Å—Ç–∞—ë—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º. –ù–∏–∂–µ ‚Äî –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∏ —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞.

---

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö: –≥–¥–µ –∏—Å–∫–∞—Ç—å –æ—Ç—á—ë—Ç—ã –∏ —á—Ç–æ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –¥–∞—ë—Ç

### e-disclosure.ru ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ä–∞—Å–∫—Ä—ã—Ç–∏–π

–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –¶–ë –†–§, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—É—é –æ–±—è–∑–∞–Ω—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤—Å–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ (—Å–≤—ã—à–µ **9 000 —ç–º–∏—Ç–µ–Ω—Ç–æ–≤**). –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä `type` | –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
|---|---|
| `type=2` | –ì–æ–¥–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã |
| **`type=3`** | **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å (–†–°–ë–£)** |
| **`type=4`** | **–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å (–ú–°–§–û)** |
| `type=5` | –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã —ç–º–∏—Ç–µ–Ω—Ç–∞ |
| `type=6` | –°–ø–∏—Å–∫–∏ –∞—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Ü |

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏: `https://e-disclosure.ru/portal/files.aspx?id={company_id}&type=3` (–¥–ª—è –†–°–ë–£) –∏–ª–∏ `type=4` (–¥–ª—è –ú–°–§–û). –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π `company_id` ‚Äî —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä 274 –¥–ª—è –¢–ú–ö.

**–ü–ª–∞—Ç–Ω—ã–π API (–®–ª—é–∑)** –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –∞–¥—Ä–µ—Å—É `https://gateway.e-disclosure.ru/swagger/ui/index.html`. –°—Ç–æ–∏–º–æ—Å—Ç—å ‚Äî –æ—Ç **6 000 ‚ÇΩ/–º–µ—Å** –±–µ–∑ –ù–î–°. –ö–æ–Ω—Ç–∞–∫—Ç: dc1@e-disclosure.ru. API –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±–æ –≤—Å–µ—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ö –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–∞–º –∏ —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã. –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω—ã–π –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–π —Å–ø–æ—Å–æ–±.

**–ù–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API**: —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç `http://e-disclosure.ru/api/events/page` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –ª–µ–Ω—Ç—ã, –æ–¥–Ω–∞–∫–æ –æ–Ω –∑–∞—â–∏—â—ë–Ω –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º–æ–π ‚Äî –≤–º–µ—Å—Ç–æ JSON —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML —Å JavaScript-–≤—ã–∑–æ–≤–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º RSA-–∫–ª—é—á–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

**RSS-—Ñ–∏–¥–æ–≤ –Ω–µ—Ç** ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å-–¶–†–ö–ò –ø—Ä—è–º–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —á–µ—Ä–µ–∑ RSS –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–∏.

### bo.nalog.ru (–ì–ò–† –ë–û) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –†–°–ë–£

–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –§–ù–° —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –†–°–ë–£ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **XML** —Å 2019 –≥–æ–¥–∞. –≠—Ç–æ –Ω–∞–∏–ª—É—á—à–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –†–°–ë–£ –±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ PDF. –û–±–Ω–∞—Ä—É–∂–µ–Ω **–Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π REST API**:

```
GET https://bo.nalog.ru/advanced-search/organizations/?allFieldsMatch=false&period=2023&page=0
```

–û—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ JSON –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö, —á–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ò–ù–ù: –ø–∞—Ä–∞–º–µ—Ç—Ä `query={–ò–ù–ù}`. –ü–∞–≥–∏–Ω–∞—Ü–∏—è ‚Äî –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `page`. –ü—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ (–¥–æ **~5 000 –ò–ù–ù/—á–∞—Å** –ø—Ä–∏ —Ö–æ—Ä–æ—à–∏—Ö –ø—Ä–æ–∫—Å–∏).

### –î—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**MOEX ISS** (`iss.moex.com`) ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–æ—Ç–∏—Ä–æ–≤–∫–∏, —Å—Ç–∞–∫–∞–Ω—ã, —Å–≤–µ—á–∏, –∏–Ω–¥–µ–∫—Å—ã). **–§–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ —á–µ—Ä–µ–∑ ISS –Ω–µ—Ç**, –Ω–æ API –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç–æ—Ä–≥—É–µ–º—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤, ISIN –∏ –º–∞–ø–ø–∏–Ω–≥–∞ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–º–ø–∞–Ω–∏–π –Ω–∞ –ø–ª–æ—â–∞–¥–∫–∞—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏—è.

**Conomy.ru API** (`conomy.ru/partnership/api`) ‚Äî REST API —Å –¥–∞–Ω–Ω—ã–º–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞: —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –¥–∏–≤–∏–¥–µ–Ω–¥—ã, –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏. –¢—Ä–µ–±—É–µ—Ç API-—Ç–æ–∫–µ–Ω. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `/api/v1/issuers/`, `/api/v1/issuers/{id}/reports/`. –°–µ—Ä–≤–∏—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è, –Ω–æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ–Ω –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —É–∂–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.

**–§–µ–¥—Ä–µ—Å—É—Ä—Å** (`fedresurs.ru`) ‚Äî —Å –æ–∫—Ç—è–±—Ä—è 2016 –≥. –ü–ê–û –æ–±—è–∑–∞–Ω—ã –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏. –°–æ–¥–µ—Ä–∂–∏—Ç **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (–¥–∞—Ç–∞, –∞—É–¥–∏—Ç–æ—Ä, –º–Ω–µ–Ω–∏–µ), –Ω–æ –Ω–µ —Å–∞–º–∏ —Ñ–∞–π–ª—ã –æ—Ç—á—ë—Ç–æ–≤. –£ –§–µ–¥—Ä–µ—Å—É—Ä—Å–∞ –µ—Å—Ç—å API, –Ω–æ –¥–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.

**RFSD ‚Äî Russian Financial Statements Database** (`github.com/irlcode/RFSD`, 57 –∑–≤—ë–∑–¥) ‚Äî –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –¥–∞—Ç–∞—Å–µ—Ç —Å –†–°–ë–£-–¥–∞–Ω–Ω—ã–º–∏ –∑–∞ 2011‚Äì2024 –≥–≥. –≤ —Ñ–æ—Ä–º–∞—Ç–µ Apache Parquet –Ω–∞ Hugging Face. –û—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç **56,6 –º–ª–Ω** –Ω–∞–±–ª—é–¥–µ–Ω–∏–π. –¢–æ–ª—å–∫–æ –Ω–µ–∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–æ–¥–æ–≤–∞—è –†–°–ë–£, –±–µ–∑ –ú–°–§–û.

–ö—Ä–æ–º–µ e-disclosure.ru, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –µ—â—ë 4 –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö –ø–ª–æ—â–∞–¥–∫–∏: **disclosure.1prime.ru** (–ü–†–ê–ô–ú), **disclosure.skrin.ru** (–°–ö–†–ò–ù), **disclosure.ru** (–ê–ö&–ú), **e-disclosure.azipi.ru** (–ê–ó–ò–ü–ò). –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å ‚Äî –∫—Ä—É–ø–Ω–µ–π—à–∞—è –∏–∑ –Ω–∏—Ö.

---

## –û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç-–∑–∞—â–∏—Ç—ã e-disclosure.ru

–°–∞–π—Ç e-disclosure.ru –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ ASP.NET —Å ViewState, —Ç—Ä–µ–±—É–µ—Ç cookies –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `requests` –ø–æ–ª—É—á–∞–µ—Ç **403 Forbidden** –∏–ª–∏ HTML-–∑–∞–≥–ª—É—à–∫—É. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã: TLS-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–∏–Ω–≥, RSA-–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –∞–Ω—Ç–∏–±–æ—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ JavaScript, –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.

### –ü–æ–¥—Ö–æ–¥ 1: curl_cffi (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `curl_cffi` –∏–º–∏—Ç–∏—Ä—É–µ—Ç TLS-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏ –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã –±–µ–∑ –ø–æ–ª–Ω–æ–π –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

```python
# pip install curl_cffi beautifulsoup4
from curl_cffi import requests as curl_requests
from bs4 import BeautifulSoup

def get_company_reports(company_id, report_type=3):
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ —Å e-disclosure.ru.
    report_type: 3 = –†–°–ë–£, 4 = –ú–°–§–û
    """
    url = f"https://e-disclosure.ru/portal/files.aspx?id={company_id}&type={report_type}"
    response = curl_requests.get(url, impersonate="chrome120")
    
    if response.status_code == 200:
        soup = BeautifulSoup(response.text, 'html.parser')
        # –ò—Å–∫–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã –æ—Ç—á—ë—Ç–æ–≤
        links = soup.find_all('a', href=True)
        report_links = [
            link['href'] for link in links
            if link['href'].endswith(('.pdf', '.xlsx', '.xls', '.doc', '.docx'))
        ]
        return report_links
    return []

# –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–∏—Ç—å –†–°–ë–£-–æ—Ç—á—ë—Ç—ã –¥–ª—è company_id=274 (–¢–ú–ö)
rsbu_links = get_company_reports(274, report_type=3)
ifrs_links = get_company_reports(274, report_type=4)
```

### –ü–æ–¥—Ö–æ–¥ 2: Playwright (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)

–ö–æ–≥–¥–∞ `curl_cffi` –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ JavaScript-–≤—ã–∑–æ–≤–∞—Ö —Å RSA-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π), –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:

```python
# pip install playwright
# playwright install chromium
import asyncio
from playwright.async_api import async_playwright

async def scrape_disclosure(company_id, report_type=3):
    async with async_playwright() as p:
        browser = await p.chromium.launch(headless=True)
        page = await browser.new_page()
        
        url = f"https://e-disclosure.ru/portal/files.aspx?id={company_id}&type={report_type}"
        await page.goto(url, wait_until='networkidle')
        
        # –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        await page.wait_for_timeout(3000)
        
        # –ò–∑–≤–ª–µ—á—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã
        links = await page.eval_on_selector_all(
            'a[href]',
            'elements => elements.map(e => ({href: e.href, text: e.textContent.trim()}))'
        )
        
        report_files = [
            link for link in links
            if any(link['href'].endswith(ext) for ext in ['.pdf', '.xlsx', '.xls'])
        ]
        
        await browser.close()
        return report_files

results = asyncio.run(scrape_disclosure(274, report_type=4))
```

### –ü–æ–¥—Ö–æ–¥ 3: bo.nalog.ru –¥–ª—è –†–°–ë–£ (–±–µ–∑ –∞–Ω—Ç–∏–±–æ—Ç-–ø—Ä–æ–±–ª–µ–º)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –†–°–ë–£ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ì–ò–† –ë–û:

```python
import aiohttp
import asyncio
import json

async def fetch_rsbu_by_inn(inn: str, period: int = 2024):
    """–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –†–°–ë–£ –∏–∑ –ì–ò–† –ë–û –ø–æ –ò–ù–ù."""
    url = "https://bo.nalog.ru/advanced-search/organizations/"
    params = {
        "query": inn,
        "allFieldsMatch": "false",
        "period": str(period),
        "page": "0"
    }
    async with aiohttp.ClientSession() as session:
        async with session.get(url, params=params) as response:
            data = await response.json()
            return data

# –ü—Ä–∏–º–µ—Ä: –†–°–ë–£ –°–±–µ—Ä–±–∞–Ω–∫–∞
result = asyncio.run(fetch_rsbu_by_inn("7707083893", 2024))
print(json.dumps(result, indent=2, ensure_ascii=False))
```

---

## –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

**–†–°–ë–£** –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ —Ç—Ä—ë—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö: PDF (—Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –Ω–∞ e-disclosure.ru), XML (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–∞—á–∏ –≤ –§–ù–° —Å 2020 –≥., –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ì–ò–† –ë–û), —Ä–µ–∂–µ ‚Äî Excel –∏ Word. –†–°–ë–£ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞–º –ü—Ä–∏–∫–∞–∑–∞ –ú–∏–Ω—Ñ–∏–Ω–∞ ‚Ññ66–Ω —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ —Å—Ç—Ä–æ–∫ (1110, 1120, 1150 –∏ —Ç.–¥.), —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥.

**–ú–°–§–û** –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø–æ—á—Ç–∏ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ **PDF**. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è –ú–°–§–û —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å.

**XBRL** –≤ –†–æ—Å—Å–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–Ω–∞–¥–∑–æ—Ä–Ω—ã—Ö –¶–ë –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–±–∞–Ω–∫–∏, —Å—Ç—Ä–∞—Ö–æ–≤—ã–µ, –ù–ü–§). –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π XBRL **–Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è**, —Ö–æ—Ç—è —Å 2027 –≥–æ–¥–∞ –¶–ë –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è —ç–º–∏—Ç–µ–Ω—Ç–æ–≤ (—Ç–∞–∫—Å–æ–Ω–æ–º–∏—è v7.5.1.0).

### –ü–∞—Ä—Å–∏–Ω–≥ PDF-–æ—Ç—á—ë—Ç–æ–≤

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–µ–∫ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö PDF:

```python
# pip install pdfplumber pandas
import pdfplumber
import pandas as pd

def extract_financial_tables(pdf_path):
    """–ò–∑–≤–ª–µ—á—å —Ç–∞–±–ª–∏—Ü—ã –∏–∑ PDF —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞."""
    all_tables = []
    with pdfplumber.open(pdf_path) as pdf:
        for i, page in enumerate(pdf.pages):
            tables = page.extract_tables({
                "vertical_strategy": "lines",
                "horizontal_strategy": "lines",
                "snap_tolerance": 5,
            })
            for table in tables:
                df = pd.DataFrame(table[1:], columns=table[0])
                df['_page'] = i + 1
                all_tables.append(df)
    return all_tables

# –î–ª—è –†–°–ë–£: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥—ã —Å—Ç—Ä–æ–∫ –ú–∏–Ω—Ñ–∏–Ω–∞ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞
RSBU_LINE_CODES = {
    "1110": "–ù–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã",
    "1150": "–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞",
    "1170": "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è",
    "1210": "–ó–∞–ø–∞—Å—ã",
    "1230": "–î–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å",
    "1250": "–î–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞",
    "1300": "–ò–¢–û–ì–û –∫–∞–ø–∏—Ç–∞–ª",
    "1600": "–ë–ê–õ–ê–ù–° (–∞–∫—Ç–∏–≤)",
    "1700": "–ë–ê–õ–ê–ù–° (–ø–∞—Å—Å–∏–≤)",
    "2110": "–í—ã—Ä—É—á–∫–∞",
    "2200": "–ü—Ä–∏–±—ã–ª—å –æ—Ç –ø—Ä–æ–¥–∞–∂",
    "2400": "–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å",
}
```

–î–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Tesseract OCR** —Å —Ä—É—Å—Å–∫–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª—å—é:

```python
# pip install pytesseract Pillow pdf2image
import pytesseract
from pdf2image import convert_from_path

images = convert_from_path("scanned_report.pdf", dpi=300)
for img in images:
    text = pytesseract.image_to_string(img, lang='rus')
```

–ü–æ–¥—Ö–æ–¥ **VTB Bank** (–æ–ø–∏—Å–∞–Ω –Ω–∞ –•–∞–±—Ä–µ): PDF ‚Üí OCR ‚Üí –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü ‚Üí –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ JSON-—à–∞–±–ª–æ–Ω—ã –ø–æ –∫–æ–¥–∞–º —Å—Ç—Ä–æ–∫ –ú–∏–Ω—Ñ–∏–Ω–∞ ‚Üí –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö. –°—Ç–µ–∫: `pdfminer.six`, `PyTesseract`, `OpenCV`.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

### –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ò—Å—Ç–æ—á–Ω–∏–∫–∏       ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  –°–ª–æ–π —Å–±–æ—Ä–∞      ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  –•—Ä–∞–Ω–∏–ª–∏—â–µ    ‚îÇ
‚îÇ                  ‚îÇ    ‚îÇ                  ‚îÇ    ‚îÇ               ‚îÇ
‚îÇ ‚Ä¢ e-disclosure   ‚îÇ    ‚îÇ ‚Ä¢ –°–∫—Ä–∞–ø–µ—Ä—ã       ‚îÇ    ‚îÇ ‚Ä¢ PostgreSQL  ‚îÇ
‚îÇ ‚Ä¢ bo.nalog.ru    ‚îÇ    ‚îÇ ‚Ä¢ API-–∫–ª–∏–µ–Ω—Ç—ã    ‚îÇ    ‚îÇ ‚Ä¢ S3 / MinIO  ‚îÇ
‚îÇ ‚Ä¢ IR –∫–æ–º–ø–∞–Ω–∏–π    ‚îÇ    ‚îÇ ‚Ä¢ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫    ‚îÇ    ‚îÇ   (—Ñ–∞–π–ª—ã)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                       ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ  –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è     ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ  –û–±—Ä–∞–±–æ—Ç–∫–∞    ‚îÇ
                        ‚îÇ                  ‚îÇ    ‚îÇ               ‚îÇ
                        ‚îÇ ‚Ä¢ Telegram-–±–æ—Ç   ‚îÇ    ‚îÇ ‚Ä¢ PDF-–ø–∞—Ä—Å–µ—Ä  ‚îÇ
                        ‚îÇ ‚Ä¢ Email          ‚îÇ    ‚îÇ ‚Ä¢ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```python
# pip install curl_cffi beautifulsoup4 schedule sqlalchemy
import hashlib
import json
import time
import logging
from datetime import datetime
from dataclasses import dataclass
from pathlib import Path
from curl_cffi import requests as curl_requests
from bs4 import BeautifulSoup
import schedule

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

@dataclass
class Company:
    name: str
    e_disclosure_id: int
    inn: str

# –°–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π
COMPANIES = [
    Company("–°–±–µ—Ä–±–∞–Ω–∫", 3043, "7707083893"),
    Company("–ì–∞–∑–ø—Ä–æ–º", 872, "7736050003"),
    Company("–õ—É–∫–æ–π–ª", 1278, "7708004767"),
    Company("–Ø–Ω–¥–µ–∫—Å", 36498, "7736207543"),
]

REPORT_TYPES = {3: "–†–°–ë–£", 4: "–ú–°–§–û"}
STATE_FILE = Path("monitor_state.json")
DOWNLOAD_DIR = Path("reports")
DOWNLOAD_DIR.mkdir(exist_ok=True)

def load_state() -> dict:
    if STATE_FILE.exists():
        return json.loads(STATE_FILE.read_text())
    return {}

def save_state(state: dict):
    STATE_FILE.write_text(json.dumps(state, ensure_ascii=False, indent=2))

def get_report_links(company_id: int, report_type: int) -> list[dict]:
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –æ—Ç—á—ë—Ç–æ–≤ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã e-disclosure."""
    url = f"https://e-disclosure.ru/portal/files.aspx?id={company_id}&type={report_type}"
    try:
        resp = curl_requests.get(url, impersonate="chrome120", timeout=30)
        if resp.status_code != 200:
            logger.warning(f"HTTP {resp.status_code} –¥–ª—è {url}")
            return []
        
        soup = BeautifulSoup(resp.text, 'html.parser')
        results = []
        for link in soup.find_all('a', href=True):
            href = link['href']
            if any(href.lower().endswith(ext) for ext in ('.pdf', '.xlsx', '.xls', '.zip')):
                full_url = href if href.startswith('http') else f"https://e-disclosure.ru{href}"
                results.append({
                    "url": full_url,
                    "text": link.get_text(strip=True),
                    "hash": hashlib.sha256(full_url.encode()).hexdigest()[:16]
                })
        return results
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ {url}: {e}")
        return []

def download_file(url: str, company_name: str, report_type_name: str) -> Path:
    """–°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –æ—Ç—á—ë—Ç–∞."""
    resp = curl_requests.get(url, impersonate="chrome120", timeout=60)
    filename = url.split('/')[-1].split('?')[0]
    safe_name = company_name.replace(' ', '_')
    save_path = DOWNLOAD_DIR / safe_name / report_type_name
    save_path.mkdir(parents=True, exist_ok=True)
    filepath = save_path / filename
    filepath.write_bytes(resp.content)
    logger.info(f"–°–∫–∞—á–∞–Ω: {filepath}")
    return filepath

def check_for_new_reports():
    """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤."""
    state = load_state()
    new_reports = []
    
    for company in COMPANIES:
        for type_id, type_name in REPORT_TYPES.items():
            key = f"{company.e_disclosure_id}_{type_id}"
            known_hashes = set(state.get(key, []))
            
            links = get_report_links(company.e_disclosure_id, type_id)
            for link in links:
                if link['hash'] not in known_hashes:
                    logger.info(
                        f"–ù–û–í–´–ô –û–¢–ß–Å–¢: {company.name} ‚Äî {type_name}: {link['text']}"
                    )
                    try:
                        download_file(link['url'], company.name, type_name)
                    except Exception as e:
                        logger.error(f"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å {link['url']}: {e}")
                    
                    known_hashes.add(link['hash'])
                    new_reports.append((company.name, type_name, link['text']))
            
            state[key] = list(known_hashes)
            time.sleep(2)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
    
    save_state(state)
    
    if new_reports:
        notify_telegram(new_reports)

def notify_telegram(reports: list):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram."""
    # TELEGRAM_BOT_TOKEN –∏ CHAT_ID –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    import os
    token = os.getenv("TELEGRAM_BOT_TOKEN", "")
    chat_id = os.getenv("TELEGRAM_CHAT_ID", "")
    if not token or not chat_id:
        return
    
    text = "üìä –ù–æ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã:\n\n"
    for company, rtype, title in reports:
        text += f"‚Ä¢ {company} ‚Äî {rtype}: {title}\n"
    
    curl_requests.post(
        f"https://api.telegram.org/bot{token}/sendMessage",
        json={"chat_id": chat_id, "text": text},
        impersonate="chrome120"
    )

# –ó–∞–ø—É—Å–∫: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
schedule.every(4).hours.do(check_for_new_reports)

if __name__ == "__main__":
    logger.info("–ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Ç—á—ë—Ç–æ–≤...")
    check_for_new_reports()  # –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É
    while True:
        schedule.run_pending()
        time.sleep(60)
```

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```sql
CREATE TABLE companies (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    inn VARCHAR(12) UNIQUE,
    moex_ticker VARCHAR(20),
    e_disclosure_id INTEGER
);

CREATE TABLE reports (
    id SERIAL PRIMARY KEY,
    company_id INTEGER REFERENCES companies(id),
    report_type VARCHAR(10) CHECK (report_type IN ('RSBU', 'IFRS')),
    period_year INTEGER,
    period_quarter INTEGER,  -- NULL –¥–ª—è –≥–æ–¥–æ–≤—ã—Ö
    publication_date TIMESTAMP,
    source_url TEXT,
    local_path TEXT,
    file_hash VARCHAR(64),  -- SHA-256 –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
    is_audited BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(company_id, report_type, period_year, period_quarter, file_hash)
);

CREATE TABLE parsed_data (
    id SERIAL PRIMARY KEY,
    report_id INTEGER REFERENCES reports(id),
    line_code VARCHAR(10),    -- –ö–æ–¥ —Å—Ç—Ä–æ–∫–∏ –ú–∏–Ω—Ñ–∏–Ω–∞ (1110, 2400...)
    line_name VARCHAR(255),
    value_current NUMERIC,    -- –¢–µ–∫—É—â–∏–π –ø–µ—Ä–∏–æ–¥
    value_previous NUMERIC,   -- –ü—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥
    currency VARCHAR(3) DEFAULT 'RUB'
);
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ ‚Äî —Ñ–∞–π–ª—ã –æ—Ç—á—ë—Ç–æ–≤ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**–î–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –†–°–ë–£** (–±–∞–ª–∞–Ω—Å, P&L, –¥–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏) ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **bo.nalog.ru** —á–µ—Ä–µ–∑ –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –∏–ª–∏ –¥–∞—Ç–∞—Å–µ—Ç **RFSD** (Parquet-—Ñ–∞–π–ª—ã –Ω–∞ Hugging Face, 2011‚Äì2024). –≠—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞—é—Ç —É–∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏—Ç—å PDF. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ bo.nalog.ru –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏.

**–î–ª—è —Ñ–∞–π–ª–æ–≤ –æ—Ç—á—ë—Ç–æ–≤ (PDF)** –∏ –¥–ª—è **–ú–°–§–û** ‚Äî e-disclosure.ru –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –ü—Ä–∏ –±—é–¥–∂–µ—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **–ø–ª–∞—Ç–Ω—ã–π API –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å–∞** (–æ—Ç 6 000 ‚ÇΩ/–º–µ—Å) ‚Äî —ç—Ç–æ —Å–∞–º—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—É—Ç—å. –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî `curl_cffi` —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π Chrome –∏–ª–∏ Playwright –≤ headless-—Ä–µ–∂–∏–º–µ. –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞ **4‚Äì6 —á–∞—Å–æ–≤** –æ–ø—Ç–∏–º–∞–ª–µ–Ω: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —Å–æ–∑–¥–∞—ë—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.

**–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—Ç—á—ë—Ç–∞** –ø—Ä–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL-–ø–∞—Ä–∞–º–µ—Ç—Ä `type=3` (–†–°–ë–£) –∏ `type=4` (–ú–°–§–û) –Ω–∞ e-disclosure.ru ‚Äî —Å–∞–π—Ç —É–∂–µ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ñ–∞–π–ª–æ–≤: ¬´–±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π –±–∞–ª–∞–Ω—Å¬ª, ¬´–æ—Ç—á—ë—Ç –æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö¬ª (–†–°–ë–£) –∏–ª–∏ ¬´consolidated¬ª, ¬´IFRS¬ª, ¬´–ú–°–§–û¬ª (–ú–°–§–û).

**–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** ‚Äî —Ö—Ä–∞–Ω–∏—Ç—å SHA-256 —Ö–µ—à–∏ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `(–∫–æ–º–ø–∞–Ω–∏—è, —Ç–∏–ø_–æ—Ç—á—ë—Ç–∞, –ø–µ—Ä–∏–æ–¥)`. –ö–æ–º–ø–∞–Ω–∏–∏ –Ω–µ—Ä–µ–¥–∫–æ –ø—É–±–ª–∏–∫—É—é—Ç —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é, –∞ –∑–∞—Ç–µ–º –∞—É–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é ‚Äî —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

**–ú–∞–ø–ø–∏–Ω–≥ —Ç–∏–∫–µ—Ä–æ–≤ –Ω–∞ company_id** e-disclosure.ru: –ø–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ MOEX ISS API (`apimoex`/`aiomoex`), –∑–∞—Ç–µ–º –ø–æ –ò–ù–ù –Ω–∞–π–¥–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é –Ω–∞ e-disclosure.ru. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥ –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é.

**–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã** –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è: **Conomy.ru API** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–∂–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —á–µ—Ä–µ–∑ REST API —Å —Ç–æ–∫–µ–Ω–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, **SPARK-Interfax** –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ 65+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–≤–∫–ª—é—á–∞—è –§–ù–°, –¶–ë, –§–µ–¥—Ä–µ—Å—É—Ä—Å) ‚Äî –ø–ª–∞—Ç–Ω—ã–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, **ofdata.ru API** ‚Äî –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π API –∫ –¥–∞–Ω–Ω—ã–º –†–æ—Å—Å—Ç–∞—Ç–∞ –∏ –ì–ò–† –ë–û (`https://api.ofdata.ru/v2/finances?key={API_KEY}&inn={–ò–ù–ù}`).

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞: –†–°–ë–£ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —á–µ—Ä–µ–∑ –ì–ò–† –ë–û, –∞ –ú–°–§–û ‚Äî —Ç–æ–ª—å–∫–æ –≤ PDF —á–µ—Ä–µ–∑ –ø–ª–æ—â–∞–¥–∫–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è. –ö–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç ‚Äî **–Ω–µ –ø–∞—Ä—Å–∏—Ç—å e-disclosure.ru –¥–ª—è –†–°–ë–£**, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã —á–∏—Å–ª–∞, –∞ –∏–¥—Ç–∏ –Ω–∞ bo.nalog.ru. –î–ª—è –ú–°–§–û —Ä–∞–±–æ—á–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –æ–ø—Ä–æ—Å e-disclosure.ru —á–µ—Ä–µ–∑ `curl_cffi` ‚Üí —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF ‚Üí –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ `pdfplumber` ‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ Telegram. –í 2027 –≥–æ–¥—É –¶–ë –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π XBRL –¥–ª—è —ç–º–∏—Ç–µ–Ω—Ç–æ–≤ ‚Äî —ç—Ç–æ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –Ω–æ –ø–æ–∫–∞ PDF-–ø–∞—Ä—Å–∏–Ω–≥ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–±–µ–∂–Ω—ã–º –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏.